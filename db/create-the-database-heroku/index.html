<h1>Creating the database on Heroku</h1>
<p>There are two steps to creating the database on Heroku.</p>
<ol>
<li>Create the database</li>
<li>Run a script to create the database tables</li>
</ol>
<h2>Pre-Requisites</h2>
<p>A number of pre-requisites need to be completed before the database can be created on Heroku.</p>
<ol>
<li>Create a free Heroku account and an initial application</li>
<li>Install the Heroku CLI on your local development machine</li>
<li>Install a Command Line tool locally in order to access the Heroku database. One option is pgsql. On a Mac, this can be installed using Homebrew</li>
</ol>
<h2>Create the Postgres database on Heroku</h2>
<p>On the command line on your development machine, enter the below. Replace <code>&lt;NAME OF APP&gt;</code> with the name of the application already created on Heroku. The database will be associated with this application.</p>
<pre><code class="language-shell">heroku addons:create heroku-postgresql:hobby-dev -a &lt;NAME OF APP&gt;
</code></pre>
<p>It takes a few minutes for the database to be created. If you run</p>
<pre><code class="language-shell">heroku pg:wait -a &lt;NAME OF APP&gt;
</code></pre>
<p>then this command will wait and complete when the database is ready.</p>
<p>Once it is ready, execute the below to see the database connection string. It will look something like <code>postgres://asdfggh:fggfg2g2g@xxx.yyy.amazonaws.com:5432/zzzz</code>
. You will need this full string later.</p>
<pre><code class="language-shell">heroku config -a &lt;NAME OF APP&gt;
</code></pre>
<p>Further details on creating a new database are on the <a href="https://devcenter.heroku.com/articles/heroku-postgresql#provisioning-heroku-postgres">Heroku site</a></p>
<h2>Add the database tables</h2>
<p>Now you can add the database tables to this new database. This will be performed by connecting to the postgres database from your development machine and executing a SQL script.</p>
<p>Assuming you have a tool such as pgsql installed on your local machine, inside a shell or Terminal navigate to the folder containing the <code>diversitycorp.sql</code> file, and execute the following to connect to the database.</p>
<p>Replace <code>&lt;DATABASE CONNECTION STRING&gt;</code> with the connection details output by the <code>heroku config</code> command earlier.</p>
<pre><code class="language-shell">psql &lt;DATABASE CONNECTION STRING&gt;
</code></pre>
<p>Now execute the SQL script that will create the tables and relationships. You will see the script's progress output to the terminal.</p>
<pre><code class="language-shell">\i diversitycorp.sql
</code></pre>
<p>Finally, enter this command to see the new tables.</p>
<pre><code class="language-shell">\dt
</code></pre>
